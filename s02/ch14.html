<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>JavaScript ë³µìŠµ - ì‹¬í™”</title>

    <link
      id="prism-theme"
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css"
    />
    <link rel="stylesheet" href="../css/style.css" />

    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>
  </head>
  <body>
    <h1>2-13. ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬í•˜ê¸° 3 - Async/Await</h1>
    <button id="theme-toggle">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>

    <pre
      id="editor"
      class="language-javascript"
      contenteditable="true"
      spellcheck="false"
    >
// async
// ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í‚¤ì›Œë“œ
// í•¨ìˆ˜ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë³€í™˜í•´ì£¼ëŠ” ê·¸ëŸ° í‚¤ì›Œë“œ

async function getData() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve({
        name: "ì´ì •í™˜",
        id: "winterlood",
      });
    }, 1500);
  });
}

// await
// async í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥ í•œ í‚¤ì›Œë“œ
// ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ë‹¤ ì²˜ë¦¬ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì—­í• 

// thenê³¼ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ì§€ë§Œ
// ì½”ë“œê°€ ë” ê°„ê²°í•´ì§€ê³  ê°€ë…ì„±ì´ ì¢‹ì•„ì§
async function printData() {
  const data = await getData();
  console.log(data);
}

printData();

// catchì™€ finallyëŠ” tryì™€ ì¡°í•©í•˜ì—¬ ì‚¬ìš©
async function getDataWithError() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      reject("ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤");
    }, 2000);
  });
}

async function printDataWithError() {
  try {
    const data = await getDataWithError();
    console.log(data); // ì´ ì¤„ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
  } catch (error) {
    console.error(error); // ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨
  } finally {
    console.log("ë°ì´í„° ì •ë¦¬ ì‘ì—… ì™„ë£Œ");
  }
}

printDataWithError();

</pre
    >

    <button id="run-btn">â–¶ï¸ Run</button>
    <div id="output" class="console-output"></div>
    <!-- ê¸°ëŠ¥ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../js/theme-toggle.js"></script>
    <script src="../js/editor.js"></script>
  </body>
</html>
